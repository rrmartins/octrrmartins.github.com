<div class="highlight"><pre><span class="k">class</span> <span class="nc">Hash</span>
  <span class="c1"># Permiti valores de hash para ser consultado e definido como se fossem atributos.</span>
  <span class="c1"># Simulamos getters e setters para atributos de qualquer tecla.</span>
  <span class="k">def</span> <span class="nf">method_missing</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">key</span><span class="o">.</span><span class="n">to_s</span>

    <span class="k">if</span> <span class="n">text</span><span class="o">[-</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="o">]</span> <span class="o">==</span> <span class="s2">&quot;=&quot;</span>               <span class="c1"># Se termina com chave = definir um valor</span>
      <span class="nb">self</span><span class="o">[</span><span class="n">text</span><span class="o">.</span><span class="n">chop</span><span class="o">.</span><span class="n">to_sym</span><span class="o">]</span> <span class="o">=</span> <span class="n">args</span><span class="o">[</span><span class="mi">0</span><span class="o">]</span> <span class="c1"># Faixa de chave</span>
    <span class="k">else</span> <span class="c1"># Caso contrário ...</span>
      <span class="nb">self</span><span class="o">[</span><span class="n">key</span><span class="o">]</span>                        <span class="c1"># ... apenas retornar o valor da chave</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="n">h</span> <span class="o">=</span> <span class="p">{}</span> 				 <span class="c1"># Criar um objeto vazio de hash</span>
<span class="n">h</span><span class="o">.</span><span class="n">one</span> <span class="o">=</span> <span class="mi">1</span> 		 <span class="c1"># O mesmo que h[:one] = 1</span>
<span class="nb">puts</span> <span class="n">h</span><span class="o">.</span><span class="n">one</span>     <span class="c1"># Imprime 1. Mesmo que põe h[:one]</span>
</pre></div>